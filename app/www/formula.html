<!-- df_excerpt_dose_response.html -->
<style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    padding: 8px;
    text-align: center;
  }
  th {
    background-color: #f2f2f2;
  }
  .info-container {
    display: flex;
    gap: 20px;
    align-items: flex-start;
  }
  .documentation {
    max-width: 200px;
  }
</style>
<div class="info-container">
<div class="boxed-output">
  <h4><strong>1. Overview</strong></h4>
  <p>
    A formula describes how the columns of your dataset are mapped in the statistical model.
    For example the table shows three columns: CO2Uptake, Fertilization, and waterStress.
    Here the CO2Uptake would be the response variable i.e. the left side of your model.
    The Fertilization and WaterStress would be the predictors i.e. the right side of the model.
    The idea is to see how the predictors affect the response variable. Here the aim is to see
    how the CO2Uptake depends on sufficient Fertilization and WaterStress.
  </p>
</div>
    <table>
    <tr> <th>CO2Uptake</th> <th>Fertilization</th>       <th>WaterStress</th>       </tr>
    <tr> <td>0.01</td>       <td>0.5</td>                 <td>yes</td>              </tr>
    <tr> <td>0.01</td>       <td>0.5</td>                 <td>yes</td>              </tr>
    <tr> <td>0.6</td>        <td>0.5</td>                 <td>no</td>               </tr>
    <tr> <td>0.6</td>        <td>0.5</td>                 <td>no</td>               </tr>
    <tr> <td>0.3</td>        <td>10</td>                  <td>yes</td>              </tr>
    <tr> <td>0.2</td>        <td>10</td>                  <td>yes</td>              </tr>
    <tr> <td>0.01</td>       <td>10</td>                  <td>no</td>               </tr>
    <tr> <td>0.01</td>       <td>10</td>                  <td>no</td>               </tr>
  </table>
</div>

<div class="boxed-output">
  <h4><strong>2. Getting Started</strong></h4>
  <p>To create your statistical model:</p>
  <ol>
    <li>Select a variable from the dropdown for the left side of your model.</li>
    <li>Choose predictor variables from the right side using the buttons provided.</li>
    <li>Add any necessary arithmetic operations using the operator buttons.</li>
    <li>Click the <strong>Create Statistical Model</strong> button to build your model.</li>
  </ol>
</div>


<div class="boxed-output">
  <h4><strong>3. Left Side of Statistical Model</strong></h4>
  <p>This section allows you to define the left side of your statistical model, which typically represents the dependent variable (the outcome you want to predict).</p>
  
  <h5><strong>Features:</strong></h5>
  <ul>
    <li><strong>Variable Selection:</strong> Use the dropdown menu to choose a variable for your model.</li>
    <li><strong>Create Model Button:</strong> Click this button to build the statistical model once you have selected your variables.</li>
  </ul>
</div>

<div class="boxed-output">
  <h4><strong>4. Right Side of Statistical Model</strong></h4>
  <p>The right side represents the independent variables (predictors) that explain the outcome.</p>
  
  <h5><strong>Features:</strong></h5>
  <ul>
    <li><strong>Variable buttons:</strong> Displays the selected predictor variables for your model.</li>
    <li><strong>Arithmetic Operators:</strong> Use the provided buttons to include mathematical operations between variables. Each operator button serves a specific purpose:</li>
    <ul>
      <li><strong>Add (+):</strong> Include an additional predictor variable.</li>
      <li><strong>Subtract (-):</strong> Remove a predictor variable from the model.</li>
      <li><strong>Multiply (*):</strong> Assess interactions between variables.</li>
      <li><strong>Colon (:):</strong> Include interactions between two variables.</li>
      <li><strong>Divide (/):</strong> Include nested effects that consider both variable levels.</li>
      <li><strong>Nested (%in%):</strong> Include nested effects without including the main level.</li>
      <li><strong>Interaction Level:</strong> Specify the interaction level in the model.</li>
      <li><strong>Add Arithmetic Operations (I()):</strong> Perform normal arithmetic operations within the <code>I()</code> function.</li>
    </ul>
    <li><strong>Editable Code Area:</strong> A text area where you can manually edit the right side of the model if needed. This is useful for users who want to refine their formulas directly.</li>
  </ul>
</div>

<div class="boxed-output">
<h4><strong>Basic formula with ~</strong></h4>
<br></br>
<p>weight = α + β<sub>1</sub>(height) + ε</p>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:right;"> height </th> <th style="text-align:right;"> weight </th> </tr> </thead> <tbody> <tr> <td style="text-align:right;"> 150 </td> <td style="text-align:right;"> 50.71908 </td> </tr> <tr> <td style="text-align:right;"> 160 </td> <td style="text-align:right;"> 60.07763 </td> </tr> <tr> <td style="text-align:right;"> 170 </td> <td style="text-align:right;"> 70.42381 </td> </tr> <tr> <td style="text-align:right;"> 180 </td> <td style="text-align:right;"> 80.13322 </td> </tr> <tr> <td style="text-align:right;"> 190 </td> <td style="text-align:right;"> 90.86159 </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> Formula </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> weight ~ height </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> estimate </th> <th style="text-align:right;"> std.error </th> <th style="text-align:right;"> statistic </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> (Intercept) </td> <td style="text-align:right;"> -100.135956 </td> <td style="text-align:right;"> 2.1344248 </td> <td style="text-align:right;"> -46.91473 </td> <td style="text-align:right;"> 2.13e-05 </td> </tr> <tr> <td style="text-align:left;"> height </td> <td style="text-align:right;"> 1.003406 </td> <td style="text-align:right;"> 0.0125122 </td> <td style="text-align:right;"> 80.19408 </td> <td style="text-align:right;"> 4.30e-06 </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> ßs </th> <th style="text-align:right;"> Standard error of ßs </th> <th style="text-align:right;"> t-statistic = ßs / Standard error of ßs </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> Baseline weight (predicted weight if size = 0) </td> <td style="text-align:right;"> -98.6001595 </td> <td style="text-align:right;"> 1.1248337 </td> <td style="text-align:right;"> -87.65755 </td> <td style="text-align:right;"> 3.3e-06 </td> </tr> <tr> <td style="text-align:left;"> Effect of height on weight </td> <td style="text-align:right;"> 0.9944479 </td> <td style="text-align:right;"> 0.0065939 </td> <td style="text-align:right;"> 150.81351 </td> <td style="text-align:right;"> 6.0e-07 </td> </tr> </tbody> </table>
<br></br>
</div>

<div class="boxed-output">
<h4><strong>Adding multiple predictors with +</strong></h4>
<br></br>
<p>price = α + β<sub>1</sub>(size) + β<sub>2</sub>(bedrooms) + ε</p>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:right;"> price </th> <th style="text-align:right;"> size </th> <th style="text-align:right;"> bedrooms </th> </tr> </thead> <tbody> <tr> <td style="text-align:right;"> 200.1808 </td> <td style="text-align:right;"> 1000 </td> <td style="text-align:right;"> 2 </td> </tr> <tr> <td style="text-align:right;"> 250.5359 </td> <td style="text-align:right;"> 1500 </td> <td style="text-align:right;"> 3 </td> </tr> <tr> <td style="text-align:right;"> 300.0354 </td> <td style="text-align:right;"> 2000 </td> <td style="text-align:right;"> 3 </td> </tr> <tr> <td style="text-align:right;"> 350.9145 </td> <td style="text-align:right;"> 2500 </td> <td style="text-align:right;"> 4 </td> </tr> <tr> <td style="text-align:right;"> 400.1657 </td> <td style="text-align:right;"> 3000 </td> <td style="text-align:right;"> 4 </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> Formula </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> price ~ size + bedrooms </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> estimate </th> <th style="text-align:right;"> std.error </th> <th style="text-align:right;"> statistic </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> (Intercept) </td> <td style="text-align:right;"> 98.7921656 </td> <td style="text-align:right;"> 0.4884948 </td> <td style="text-align:right;"> 202.237890 </td> <td style="text-align:right;"> 0.0000244 </td> </tr> <tr> <td style="text-align:left;"> size </td> <td style="text-align:right;"> 0.0988738 </td> <td style="text-align:right;"> 0.0003674 </td> <td style="text-align:right;"> 269.119270 </td> <td style="text-align:right;"> 0.0000138 </td> </tr> <tr> <td style="text-align:left;"> bedrooms </td> <td style="text-align:right;"> 1.1958461 </td> <td style="text-align:right;"> 0.3471582 </td> <td style="text-align:right;"> 3.444672 </td> <td style="text-align:right;"> 0.0749271 </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> ßs </th> <th style="text-align:right;"> Standard error of ßs </th> <th style="text-align:right;"> t-statistic = ßs / Standard error of ßs </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> Baseline price (for size = 0, bedrooms = 0) </td> <td style="text-align:right;"> 98.7921656 </td> <td style="text-align:right;"> 0.4884948 </td> <td style="text-align:right;"> 202.237890 </td> <td style="text-align:right;"> 0.0000244 </td> </tr> <tr> <td style="text-align:left;"> Effect of size on price </td> <td style="text-align:right;"> 0.0988738 </td> <td style="text-align:right;"> 0.0003674 </td> <td style="text-align:right;"> 269.119270 </td> <td style="text-align:right;"> 0.0000138 </td> </tr> <tr> <td style="text-align:left;"> Effect of bedrooms on price </td> <td style="text-align:right;"> 1.1958461 </td> <td style="text-align:right;"> 0.3471582 </td> <td style="text-align:right;"> 3.444672 </td> <td style="text-align:right;"> 0.0749271 </td> </tr> </tbody> </table>
<br></br>
  <ul>
    <li>Add size and bedrooms as main effects</li>
    <li>A main effect means that the factor is modeled independently from other factors</li>
  </ul>
</div>

<div class="boxed-output">
  <h4><strong>Model with main effects and interaction using *</strong></h4>
  <br></br>
  <p>yield= α + β<sub>1</sub>(fertilizer<sub>Low</sub>) + β<sub>2</sub>(water<<sup>Low</sup>) + ß<<sup>3</sup>(fertilizer<<sub>Low</sub> x water<sub>Low</sub>) + ε</p>
  <table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:right;"> yield </th> <th style="text-align:left;"> fertilizer </th> <th style="text-align:left;"> water </th> </tr> </thead> <tbody> <tr> <td style="text-align:right;"> 80 </td> <td style="text-align:left;"> High </td> <td style="text-align:left;"> High </td> </tr> <tr> <td style="text-align:right;"> 55 </td> <td style="text-align:left;"> High </td> <td style="text-align:left;"> Low </td> </tr> <tr> <td style="text-align:right;"> 77 </td> <td style="text-align:left;"> High </td> <td style="text-align:left;"> High </td> </tr> <tr> <td style="text-align:right;"> 56 </td> <td style="text-align:left;"> High </td> <td style="text-align:left;"> Low </td> </tr> <tr> <td style="text-align:right;"> 35 </td> <td style="text-align:left;"> Low </td> <td style="text-align:left;"> High </td> </tr> <tr> <td style="text-align:right;"> 40 </td> <td style="text-align:left;"> Low </td> <td style="text-align:left;"> Low </td> </tr> <tr> <td style="text-align:right;"> 48 </td> <td style="text-align:left;"> Low </td> <td style="text-align:left;"> High </td> </tr> <tr> <td style="text-align:right;"> 53 </td> <td style="text-align:left;"> Low </td> <td style="text-align:left;"> Low </td> </tr> </tbody> </table>
  <br></br>
  <table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> Formula </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> yield ~ fertilizer * water </td> </tr> </tbody> </table>
  <br></br>
  <table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> estimate </th> <th style="text-align:right;"> std.error </th> <th style="text-align:right;"> statistic </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> (Intercept) </td> <td style="text-align:right;"> 78.5 </td> <td style="text-align:right;"> 4.663690 </td> <td style="text-align:right;"> 16.832167 </td> <td style="text-align:right;"> 0.0000730 </td> </tr> <tr> <td style="text-align:left;"> fertilizerLow </td> <td style="text-align:right;"> -37.0 </td> <td style="text-align:right;"> 6.595453 </td> <td style="text-align:right;"> -5.609926 </td> <td style="text-align:right;"> 0.0049602 </td> </tr> <tr> <td style="text-align:left;"> waterLow </td> <td style="text-align:right;"> -23.0 </td> <td style="text-align:right;"> 6.595453 </td> <td style="text-align:right;"> -3.487251 </td> <td style="text-align:right;"> 0.0251856 </td> </tr> <tr> <td style="text-align:left;"> fertilizerLow:waterLow </td> <td style="text-align:right;"> 28.0 </td> <td style="text-align:right;"> 9.327379 </td> <td style="text-align:right;"> 3.001915 </td> <td style="text-align:right;"> 0.0398666 </td> </tr> </tbody> </table>
  <br></br>
  <table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> ßs </th> <th style="text-align:right;"> Standard error of ßs </th> <th style="text-align:right;"> t-statistic = ßs / Standard error of ßs </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> Baseline Yield (fertilizer = high, water = high) </td> <td style="text-align:right;"> 78.5 </td> <td style="text-align:right;"> 4.663690 </td> <td style="text-align:right;"> 16.832167 </td> <td style="text-align:right;"> 0.0000730 </td> </tr> <tr> <td style="text-align:left;"> Effect of Low Fertilizer on Yield relative to high Fertilizer </td> <td style="text-align:right;"> -37.0 </td> <td style="text-align:right;"> 6.595453 </td> <td style="text-align:right;"> -5.609926 </td> <td style="text-align:right;"> 0.0049602 </td> </tr> <tr> <td style="text-align:left;"> Effect of Low Water on Yield relative to High Water </td> <td style="text-align:right;"> -23.0 </td> <td style="text-align:right;"> 6.595453 </td> <td style="text-align:right;"> -3.487251 </td> <td style="text-align:right;"> 0.0251856 </td> </tr> <tr> <td style="text-align:left;"> Interaction between Low Fertilizer and Low Water. How do low fertilizer and low water affect yield in a way different from the main affects. If significant than the effect of fertilizer depends on level of water (or vice versa) </td> <td style="text-align:right;"> 28.0 </td> <td style="text-align:right;"> 9.327379 </td> <td style="text-align:right;"> 3.001915 </td> <td style="text-align:right;"> 0.0398666 </td> </tr> </tbody> </table>
  <br></br>
  <p> The model can be also written as:</p>
  <table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> Formula </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> yield ~ fertilizer + water + fertilizer:water </td> </tr> </tbody> </table>
    <ul>
    <li>This includes the main effects of fertilizer and water as well as their interaction.</li>
    <li>An interaction means that the effect of one predictor depends on the level of another predictor.</li>
  </ul>
</div>

<div class="boxed-output">
  <h4><strong>Model with nested factors</strong></h4>
  <br></br>
  <p>
    test<sub>score</sub> = α +
    ß<sub>1</sub>(school<sub>School2</sub>) +
    ß<sub>2</sub>(school<sub>School1</sub> x school<sub>classClassB</sub>) +
    ß<sub>3</sub>(school<sub>School2</sub> x school<sub>classClassB</sub>) +
    ß<sub>4</sub>(school<sub>School1</sub> x school<sub>classClassC</sub>) +
    ß<sub>5</sub>(school<sub>School2</sub>x school<sub>classClassC</sub>) +
    ε
  </p>
  <table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> school </th> <th style="text-align:left;"> class </th> <th style="text-align:right;"> test_score </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> School1 </td> <td style="text-align:left;"> ClassA </td> <td style="text-align:right;"> 75 </td> </tr> <tr> <td style="text-align:left;"> School1 </td> <td style="text-align:left;"> ClassB </td> <td style="text-align:right;"> 78 </td> </tr> <tr> <td style="text-align:left;"> School1 </td> <td style="text-align:left;"> ClassC </td> <td style="text-align:right;"> 80 </td> </tr> <tr> <td style="text-align:left;"> School1 </td> <td style="text-align:left;"> ClassA </td> <td style="text-align:right;"> 82 </td> </tr> <tr> <td style="text-align:left;"> School1 </td> <td style="text-align:left;"> ClassB </td> <td style="text-align:right;"> 76 </td> </tr> <tr> <td style="text-align:left;"> School1 </td> <td style="text-align:left;"> ClassC </td> <td style="text-align:right;"> 79 </td> </tr> <tr> <td style="text-align:left;"> School2 </td> <td style="text-align:left;"> ClassA </td> <td style="text-align:right;"> 70 </td> </tr> <tr> <td style="text-align:left;"> School2 </td> <td style="text-align:left;"> ClassB </td> <td style="text-align:right;"> 72 </td> </tr> <tr> <td style="text-align:left;"> School2 </td> <td style="text-align:left;"> ClassC </td> <td style="text-align:right;"> 74 </td> </tr> <tr> <td style="text-align:left;"> School2 </td> <td style="text-align:left;"> ClassA </td> <td style="text-align:right;"> 73 </td> </tr> <tr> <td style="text-align:left;"> School2 </td> <td style="text-align:left;"> ClassB </td> <td style="text-align:right;"> 71 </td> </tr> <tr> <td style="text-align:left;"> School2 </td> <td style="text-align:left;"> ClassC </td> <td style="text-align:right;"> 72 </td> </tr> </tbody> </table>
  <br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> Formula </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> test_score ~ school/class </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> estimate </th> <th style="text-align:right;"> std.error </th> <th style="text-align:right;"> statistic </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> (Intercept) </td> <td style="text-align:right;"> 78.5 </td> <td style="text-align:right;"> 1.683251 </td> <td style="text-align:right;"> 46.635949 </td> <td style="text-align:right;"> 0.0000000 </td> </tr> <tr> <td style="text-align:left;"> schoolSchool2 </td> <td style="text-align:right;"> -7.0 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> -2.940588 </td> <td style="text-align:right;"> 0.0259278 </td> </tr> <tr> <td style="text-align:left;"> schoolSchool1:classClassB </td> <td style="text-align:right;"> -1.5 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> -0.630126 </td> <td style="text-align:right;"> 0.5518388 </td> </tr> <tr> <td style="text-align:left;"> schoolSchool2:classClassB </td> <td style="text-align:right;"> 0.0 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> 0.000000 </td> <td style="text-align:right;"> 1.0000000 </td> </tr> <tr> <td style="text-align:left;"> schoolSchool1:classClassC </td> <td style="text-align:right;"> 1.0 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> 0.420084 </td> <td style="text-align:right;"> 0.6890522 </td> </tr> <tr> <td style="text-align:left;"> schoolSchool2:classClassC </td> <td style="text-align:right;"> 1.5 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> 0.630126 </td> <td style="text-align:right;"> 0.5518388 </td> </tr> </tbody> </table>
<br></br>
<table style='display: inline-block; vertical-align: top;'> <thead> <tr> <th style="text-align:left;"> term </th> <th style="text-align:right;"> ßs </th> <th style="text-align:right;"> Standard error of ßs </th> <th style="text-align:right;"> t-statistic = ßs / Standard error of ßs </th> <th style="text-align:right;"> p.value </th> </tr> </thead> <tbody> <tr> <td style="text-align:left;"> Baseline test score for School1 in ClassA </td> <td style="text-align:right;"> 78.5 </td> <td style="text-align:right;"> 1.683251 </td> <td style="text-align:right;"> 46.635949 </td> <td style="text-align:right;"> 0.0000000 </td> </tr> <tr> <td style="text-align:left;"> Effect of School2 on test score relative to School1 </td> <td style="text-align:right;"> -7.0 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> -2.940588 </td> <td style="text-align:right;"> 0.0259278 </td> </tr> <tr> <td style="text-align:left;"> Interaction between School1 and ClassB </td> <td style="text-align:right;"> -1.5 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> -0.630126 </td> <td style="text-align:right;"> 0.5518388 </td> </tr> <tr> <td style="text-align:left;"> Interaction between School2 and ClassB on test score </td> <td style="text-align:right;"> 0.0 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> 0.000000 </td> <td style="text-align:right;"> 1.0000000 </td> </tr> <tr> <td style="text-align:left;"> Interaction between School1 and ClassC on test score </td> <td style="text-align:right;"> 1.0 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> 0.420084 </td> <td style="text-align:right;"> 0.6890522 </td> </tr> <tr> <td style="text-align:left;"> Interaction between School2 and ClassC on test score </td> <td style="text-align:right;"> 1.5 </td> <td style="text-align:right;"> 2.380476 </td> <td style="text-align:right;"> 0.630126 </td> <td style="text-align:right;"> 0.5518388 </td> </tr> </tbody> </table>
  <br></br>
  <ul>
    <li>school represents the primary grouping factor</li>
    <li>class is nested within school, modeling different classes within each school</li>
    <li>The formula school / class allows us to see the effects of both school and class within each school on test_score</li>
  </ul>
</div>

